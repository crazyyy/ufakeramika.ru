function _ba_punycode(){function t(t,e){for(var n=t.length;n--;)t[n]=e(t[n]);return t}function e(e,n){return t(e.split(p),n).join(".")}function n(e){return t(e,function(t){var e="";return t>65535&&(e+=v((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=v(t)}).join("")}function r(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:c}function o(t,e,n){var r=0;for(t=n?S(t/s):t>>1,t+=S(t/e);t>g*u>>1;r+=c)t=S(t/g);return S(r+(g+1)*t/(t+f))}function a(t){var e,a,f,s,C,p,g,v,_,A,y=[],x=t.length,w=0,R=m,E=h;for((a=t.lastIndexOf(l))<0&&(a=0),f=0;f<a;++f){if(t.charCodeAt(f)>=128)return null;y.push(t.charCodeAt(f))}for(s=a>0?a+1:0;s<x;){for(C=w,p=1,g=c;;g+=c){if(s>=x)return null;if((v=r(t.charCodeAt(s++)))>=c||v>S((i-w)/p))return null;if(w+=v*p,_=g<=E?d:g>=E+u?u:g-E,v<_)break;if(A=c-_,p>S(i/A))return null;p*=A}if(e=y.length+1,E=o(w-C,e,0==C),S(w/e)>i-R)return null;R+=S(w/e),w%=e,y.splice(w++,0,R)}return n(y)}var i=2147483647,c=36,d=1,u=26,f=38,s=700,h=72,m=128,l="-",C=/^xn--/,p=/\x2E|\u3002|\uFF0E|\uFF61/g,g=c-d,S=Math.floor,v=String.fromCharCode;return{toUnicode:function(t){return e(t,function(t){return C.test(t)?a(t.slice(4).toLowerCase()):t})}}}!function(t){function e(){"withCredentials"in m?r():n()}function n(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=u+"?"+o();var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}function r(){m.open("POST",u,!0),m.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),m.withCredentials=!0,m.onreadystatechange=function(){if(4==m.readyState&&200==m.status){var e=JSON.parse(this.responseText);t._baq.setResponse(e)}},m.send(o())}function o(){var e=h.navigationStart,n=document.title,r=document.getElementsByTagName("h1")[0],o="";return r&&(o=c(r["textContent"in r?"textContent":"innerText"])),"d="+encodeURIComponent(t.location.host)+"&ru="+encodeURIComponent(t.location.pathname)+"&dns="+(h.domainLookupEnd-h.domainLookupStart)+"&tcp="+(h.connectEnd-h.connectStart)+"&srt="+(h.responseStart-h.requestStart)+"&pdt="+(h.responseEnd-h.responseStart)+"&rrt="+(h.fetchStart-e)+"&dit="+(h.domInteractive-e)+"&clt="+(h.domContentLoadedEventStart-e)+"&sr="+t.screen.width+"x"+t.screen.height+"&prc="+(h.domInteractive-h.domLoading)+"&com="+(t.frameCacheVars?"1":"0")+"&tmz="+(new Date).getTimezoneOffset()+"&xts="+(new Date).getTime()+"&ver="+d+"&aid="+encodeURIComponent(f.aid)+"&ptitle_64="+encodeURIComponent(l.encode(n))+"&ph1_64="+encodeURIComponent(l.encode(o))+s}function a(e){if(null===e||t.location.host===e)return!0;var n=_ba_punycode();return t.location.host===n.toUnicode(e)}function i(t){var e=document.cookie.match(new RegExp("(?:^|; )"+t.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return e?decodeURIComponent(e[1]):void 0}function c(t){return"string"==typeof t&&(t=t.replace(/^\s+|\s+$/g,"")),t}var d=2,u=("https:"==document.location.protocol?"https://":"http://")+"bitrix.info/bx_stat",f={host:null,aid:null},s=function(e){if(!t._ba)return"";for(var n="",r=0;r<t._ba.length;r++){var o=t._ba[r];void 0!==e[o[0]]?e[o[0]]=o[1]:"function"==typeof o[1]?n+="&"+o[0]+"="+encodeURIComponent(o[1]()):n+="&"+o[0]+"="+encodeURIComponent(o[1])}return n}(f),h=t.performance&&t.performance.timing?t.performance.timing:null,m=t.XMLHttpRequest?new XMLHttpRequest:t.ActiveXObject?new t.ActiveXObject("Microsoft.XMLHTTP"):null,l={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(t){var e,n,r,o,a,i,c,d="",u=0;for(t=l._utf8_encode(t);u<t.length;)o=(e=t.charCodeAt(u++))>>2,a=(3&e)<<4|(n=t.charCodeAt(u++))>>4,i=(15&n)<<2|(r=t.charCodeAt(u++))>>6,c=63&r,isNaN(n)?i=c=64:isNaN(r)&&(c=64),d=d+this._keyStr.charAt(o)+this._keyStr.charAt(a)+this._keyStr.charAt(i)+this._keyStr.charAt(c);return d},decode:function(t){var e,n,r,o,a,i,c="",d=0;for(t=t.replace(/[^A-Za-z0-9+\/=]/g,"");d<t.length;)e=this._keyStr.indexOf(t.charAt(d++))<<2|(o=this._keyStr.indexOf(t.charAt(d++)))>>4,n=(15&o)<<4|(a=this._keyStr.indexOf(t.charAt(d++)))>>2,r=(3&a)<<6|(i=this._keyStr.indexOf(t.charAt(d++))),c+=String.fromCharCode(e),64!=a&&(c+=String.fromCharCode(n)),64!=i&&(c+=String.fromCharCode(r));return c=l._utf8_decode(c)},_utf8_encode:function(t){t=t.replace(/rn/g,"n");for(var e="",n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e+=String.fromCharCode(r):r>127&&r<2048?(e+=String.fromCharCode(r>>6|192),e+=String.fromCharCode(63&r|128)):(e+=String.fromCharCode(r>>12|224),e+=String.fromCharCode(r>>6&63|128),e+=String.fromCharCode(63&r|128))}return e},_utf8_decode:function(t){for(var e="",n=0,r=c1=c2=0;n<t.length;)(r=t.charCodeAt(n))<128?(e+=String.fromCharCode(r),n++):r>191&&r<224?(c2=t.charCodeAt(n+1),e+=String.fromCharCode((31&r)<<6|63&c2),n+=2):(c2=t.charCodeAt(n+1),c3=t.charCodeAt(n+2),e+=String.fromCharCode((15&r)<<12|(63&c2)<<6|63&c3),n+=3);return e}};t._baq=t._baq||{},t._baq.setResponse=function(t){if(void 0==i("BX_USER_ID")&&t.uid){var e=new Date((new Date).getTime()+31536e7);document.cookie="BX_USER_ID="+t.uid+"; path=/; expires="+e.toUTCString()}},m&&h&&h.navigationStart>0&&t.location.host&&a(f.host)&&null!==f.aid&&!(t.BX&&t.BX.admin)&&(h.domContentLoadedEventStart>0?e():document.addEventListener&&document.addEventListener("DOMContentLoaded",e,!1))}(window);
//# sourceMappingURL=maps/ba.js.map
